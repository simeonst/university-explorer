{
    "title": "Keys used in APPLY are not in COLUMNS (this is valid)",
    "query": {
        "WHERE": {
            "OR": [
                {
                    "AND": [
                        {
                            "GT": {
                                "courses_avg": 90
                            }
                        },
                        {
                            "IS": {
                                "courses_dept": "adhe"
                            }
                        }
                    ]
                },
                {
                    "EQ": {
                        "courses_avg": 95
                    }
                }
            ]
        },
        "OPTIONS": {
            "COLUMNS": [
                "courses_dept",
                "courses_id",
                "courses_avg",
                "courses_instructor",
                "courses_title",
                "courses_pass",
                "courses_fail",
                "courses_audit",
                "courses_uuid",
                "courses_year",
                "overallAvg"
            ],
            "ORDER": {
                "dir": "DOWN",
                "keys": [
                    "courses_avg",
                    "courses_dept"
                ]
            }
        },
        "TRANSFORMATIONS": {
            "GROUP": [
                "courses_dept",
                "courses_avg",
                "courses_id",
                "courses_instructor",
                "courses_title",
                "courses_pass",
                "courses_fail",
                "courses_audit",
                "courses_uuid",
                "courses_year"
            ],
            "APPLY": [
                {"overallAvg": {"AVG": "courses_avg"}},
                {"minimumPass": {"MIN": "courses_pass"}},
                {"maxFail": {"MAX": "courses_fail"}},
                {"sumPass": {"SUM": "courses_pass"}},
                {"CountProfs": {"COUNT": "courses_instructor"}}
            ]
        }
    },
    "isQueryValid": true,
    "result":[{"courses_dept":"adhe","courses_id":"329","courses_avg":96.11,"courses_instructor":"bishundayal, deonarine","courses_title":"dev wkshp/sem","courses_pass":27,"courses_fail":0,"courses_audit":0,"courses_uuid":"68539","courses_year":2015,"overallAvg":96.11},{"courses_dept":"sowk","courses_id":"570","courses_avg":95,"courses_instructor":"clark, natalie","courses_title":"directed study","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"88881","courses_year":2015,"overallAvg":95},{"courses_dept":"rhsc","courses_id":"501","courses_avg":95,"courses_instructor":"","courses_title":"eval src evidenc","courses_pass":6,"courses_fail":0,"courses_audit":4,"courses_uuid":"10582","courses_year":2009,"overallAvg":95},{"courses_dept":"psyc","courses_id":"501","courses_avg":95,"courses_instructor":"","courses_title":"health psych","courses_pass":8,"courses_fail":0,"courses_audit":0,"courses_uuid":"94901","courses_year":1900,"overallAvg":95},{"courses_dept":"psyc","courses_id":"501","courses_avg":95,"courses_instructor":"de longis, anita","courses_title":"health psych","courses_pass":8,"courses_fail":0,"courses_audit":0,"courses_uuid":"94900","courses_year":2010,"overallAvg":95},{"courses_dept":"obst","courses_id":"549","courses_avg":95,"courses_instructor":"","courses_title":"msc thesis","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"98843","courses_year":1900,"overallAvg":95},{"courses_dept":"nurs","courses_id":"424","courses_avg":95,"courses_instructor":"","courses_title":"mntl hlth concrn","courses_pass":9,"courses_fail":0,"courses_audit":0,"courses_uuid":"96196","courses_year":1900,"overallAvg":95},{"courses_dept":"nurs","courses_id":"424","courses_avg":95,"courses_instructor":"phillips, craig","courses_title":"mntl hlth concrn","courses_pass":9,"courses_fail":0,"courses_audit":0,"courses_uuid":"96195","courses_year":2010,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"","courses_title":"ubc singers","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"93964","courses_year":1900,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"langager, graeme","courses_title":"ubc singers","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"93963","courses_year":2011,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"","courses_title":"ubc singers","courses_pass":7,"courses_fail":0,"courses_audit":0,"courses_uuid":"28878","courses_year":1900,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"langager, graeme","courses_title":"ubc singers","courses_pass":7,"courses_fail":0,"courses_audit":0,"courses_uuid":"28877","courses_year":2013,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"","courses_title":"ubc singers","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"19491","courses_year":1900,"overallAvg":95},{"courses_dept":"musc","courses_id":"553","courses_avg":95,"courses_instructor":"langager, graeme","courses_title":"ubc singers","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"19490","courses_year":2010,"overallAvg":95},{"courses_dept":"mtrl","courses_id":"599","courses_avg":95,"courses_instructor":"","courses_title":"masters thesis","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"2676","courses_year":2011,"overallAvg":95},{"courses_dept":"mtrl","courses_id":"564","courses_avg":95,"courses_instructor":"dixon, david","courses_title":"hydrmtllgcl rctr","courses_pass":6,"courses_fail":0,"courses_audit":0,"courses_uuid":"49773","courses_year":2010,"overallAvg":95},{"courses_dept":"mtrl","courses_id":"564","courses_avg":95,"courses_instructor":"","courses_title":"hydrmtllgcl rctr","courses_pass":6,"courses_fail":0,"courses_audit":0,"courses_uuid":"49774","courses_year":1900,"overallAvg":95},{"courses_dept":"math","courses_id":"532","courses_avg":95,"courses_instructor":"","courses_title":"algb geometry i","courses_pass":6,"courses_fail":0,"courses_audit":0,"courses_uuid":"29972","courses_year":1900,"overallAvg":95},{"courses_dept":"math","courses_id":"532","courses_avg":95,"courses_instructor":"","courses_title":"algb geometry i","courses_pass":6,"courses_fail":0,"courses_audit":0,"courses_uuid":"29971","courses_year":2008,"overallAvg":95},{"courses_dept":"kin","courses_id":"500","courses_avg":95,"courses_instructor":"","courses_title":"spec tpcs kin","courses_pass":4,"courses_fail":0,"courses_audit":0,"courses_uuid":"86831","courses_year":2014,"overallAvg":95},{"courses_dept":"kin","courses_id":"500","courses_avg":95,"courses_instructor":"","courses_title":"spec tpcs kin","courses_pass":7,"courses_fail":0,"courses_audit":0,"courses_uuid":"59530","courses_year":2013,"overallAvg":95},{"courses_dept":"kin","courses_id":"499","courses_avg":95,"courses_instructor":"","courses_title":"kin project","courses_pass":5,"courses_fail":0,"courses_audit":0,"courses_uuid":"72706","courses_year":2015,"overallAvg":95},{"courses_dept":"epse","courses_id":"682","courses_avg":95,"courses_instructor":"","courses_title":"mult des anal rs","courses_pass":9,"courses_fail":0,"courses_audit":9,"courses_uuid":"86975","courses_year":1900,"overallAvg":95},{"courses_dept":"epse","courses_id":"682","courses_avg":95,"courses_instructor":"zumbo, bruno","courses_title":"mult des anal rs","courses_pass":9,"courses_fail":0,"courses_audit":9,"courses_uuid":"86974","courses_year":2007,"overallAvg":95},{"courses_dept":"epse","courses_id":"606","courses_avg":95,"courses_instructor":"vadeboncoeur, jennifer","courses_title":"coll&uni teachng","courses_pass":7,"courses_fail":0,"courses_audit":0,"courses_uuid":"76362","courses_year":2009,"overallAvg":95},{"courses_dept":"edcp","courses_id":"473","courses_avg":95,"courses_instructor":"","courses_title":"ict educ ethics","courses_pass":19,"courses_fail":0,"courses_audit":0,"courses_uuid":"16691","courses_year":1900,"overallAvg":95},{"courses_dept":"edcp","courses_id":"473","courses_avg":95,"courses_instructor":"petrina, stephen","courses_title":"ict educ ethics","courses_pass":19,"courses_fail":0,"courses_audit":0,"courses_uuid":"16690","courses_year":2013,"overallAvg":95},{"courses_dept":"econ","courses_id":"516","courses_avg":95,"courses_instructor":"gallipoli, giovanni","courses_title":"spc tpcs macroec","courses_pass":3,"courses_fail":0,"courses_audit":2,"courses_uuid":"10016","courses_year":2016,"overallAvg":95},{"courses_dept":"econ","courses_id":"516","courses_avg":95,"courses_instructor":"","courses_title":"spc tpcs macroec","courses_pass":3,"courses_fail":0,"courses_audit":2,"courses_uuid":"10017","courses_year":1900,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"graefe, sara","courses_title":"thesis","courses_pass":2,"courses_fail":0,"courses_audit":0,"courses_uuid":"26257","courses_year":2014,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"galloway, steve","courses_title":"thesis","courses_pass":2,"courses_fail":0,"courses_audit":0,"courses_uuid":"92881","courses_year":2014,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"acheson, alison","courses_title":"thesis","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"75158","courses_year":2015,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"","courses_title":"thesis","courses_pass":3,"courses_fail":0,"courses_audit":0,"courses_uuid":"71171","courses_year":2012,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"medved, maureen","courses_title":"thesis","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"46407","courses_year":2013,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"svendsen, linda jane","courses_title":"thesis","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"46406","courses_year":2013,"overallAvg":95},{"courses_dept":"crwr","courses_id":"599","courses_avg":95,"courses_instructor":"","courses_title":"thesis","courses_pass":3,"courses_fail":0,"courses_audit":0,"courses_uuid":"81354","courses_year":1900,"overallAvg":95},{"courses_dept":"cpsc","courses_id":"589","courses_avg":95,"courses_instructor":"","courses_title":"m.sc major essay","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"1386","courses_year":1900,"overallAvg":95},{"courses_dept":"cpsc","courses_id":"589","courses_avg":95,"courses_instructor":"","courses_title":"m.sc major essay","courses_pass":1,"courses_fail":0,"courses_audit":0,"courses_uuid":"1385","courses_year":2014,"overallAvg":95},{"courses_dept":"cnps","courses_id":"535","courses_avg":95,"courses_instructor":"","courses_title":"adlt psychpathlg","courses_pass":4,"courses_fail":0,"courses_audit":1,"courses_uuid":"28350","courses_year":1900,"overallAvg":95},{"courses_dept":"cnps","courses_id":"535","courses_avg":95,"courses_instructor":"schultz, izabela","courses_title":"adlt psychpathlg","courses_pass":4,"courses_fail":0,"courses_audit":1,"courses_uuid":"28349","courses_year":2016,"overallAvg":95},{"courses_dept":"bmeg","courses_id":"597","courses_avg":95,"courses_instructor":"","courses_title":"master eng proj","courses_pass":2,"courses_fail":0,"courses_audit":0,"courses_uuid":"43502","courses_year":1900,"overallAvg":95},{"courses_dept":"bmeg","courses_id":"597","courses_avg":95,"courses_instructor":"dumont, guy a","courses_title":"master eng proj","courses_pass":2,"courses_fail":0,"courses_audit":0,"courses_uuid":"43501","courses_year":2014,"overallAvg":95},{"courses_dept":"adhe","courses_id":"329","courses_avg":93.33,"courses_instructor":"bishundayal, deonarine","courses_title":"dev wkshp/sem","courses_pass":33,"courses_fail":0,"courses_audit":0,"courses_uuid":"19182","courses_year":2016,"overallAvg":93.33},{"courses_dept":"adhe","courses_id":"329","courses_avg":92.54,"courses_instructor":"bishundayal, deonarine","courses_title":"dev wkshp/sem","courses_pass":26,"courses_fail":0,"courses_audit":0,"courses_uuid":"68540","courses_year":2015,"overallAvg":92.54},{"courses_dept":"adhe","courses_id":"330","courses_avg":91.48,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":23,"courses_fail":0,"courses_audit":0,"courses_uuid":"46423","courses_year":2009,"overallAvg":91.48},{"courses_dept":"adhe","courses_id":"330","courses_avg":91.33,"courses_instructor":"","courses_title":"com adult educ","courses_pass":18,"courses_fail":0,"courses_audit":0,"courses_uuid":"85075","courses_year":1900,"overallAvg":91.33},{"courses_dept":"adhe","courses_id":"330","courses_avg":91.33,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":18,"courses_fail":0,"courses_audit":0,"courses_uuid":"85074","courses_year":2012,"overallAvg":91.33},{"courses_dept":"adhe","courses_id":"330","courses_avg":91.29,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":28,"courses_fail":0,"courses_audit":0,"courses_uuid":"19187","courses_year":2016,"overallAvg":91.29},{"courses_dept":"adhe","courses_id":"330","courses_avg":90.85,"courses_instructor":"","courses_title":"com adult educ","courses_pass":34,"courses_fail":0,"courses_audit":0,"courses_uuid":"46425","courses_year":1900,"overallAvg":90.85},{"courses_dept":"adhe","courses_id":"329","courses_avg":90.82,"courses_instructor":"bishundayal, deonarine","courses_title":"dev wkshp/sem","courses_pass":33,"courses_fail":0,"courses_audit":0,"courses_uuid":"68543","courses_year":2015,"overallAvg":90.82},{"courses_dept":"adhe","courses_id":"330","courses_avg":90.72,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":25,"courses_fail":0,"courses_audit":0,"courses_uuid":"91932","courses_year":2014,"overallAvg":90.72},{"courses_dept":"adhe","courses_id":"330","courses_avg":90.5,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":18,"courses_fail":0,"courses_audit":0,"courses_uuid":"79479","courses_year":2012,"overallAvg":90.5},{"courses_dept":"adhe","courses_id":"412","courses_avg":90.18,"courses_instructor":"falk, clifford","courses_title":"adul educ","courses_pass":11,"courses_fail":0,"courses_audit":0,"courses_uuid":"78875","courses_year":2007,"overallAvg":90.18},{"courses_dept":"adhe","courses_id":"330","courses_avg":90.17,"courses_instructor":"bishundayal, deonarine","courses_title":"com adult educ","courses_pass":29,"courses_fail":0,"courses_audit":0,"courses_uuid":"75628","courses_year":2011,"overallAvg":90.17},{"courses_dept":"adhe","courses_id":"412","courses_avg":90.16,"courses_instructor":"vanwynsberghe, robert","courses_title":"adul educ","courses_pass":31,"courses_fail":0,"courses_audit":0,"courses_uuid":"68557","courses_year":2015,"overallAvg":90.16},{"courses_dept":"adhe","courses_id":"329","courses_avg":90.02,"courses_instructor":"","courses_title":"dev wkshp/sem","courses_pass":62,"courses_fail":0,"courses_audit":0,"courses_uuid":"19184","courses_year":1900,"overallAvg":90.02}]}
